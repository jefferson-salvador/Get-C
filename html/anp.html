<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Jefferson Salvador">
    <meta name="description" content="This is a website for tutorial of programming languages for those who wants to learn programming.">
    <meta name="keywords" content="Tutorial, Java, CSS, HTML, Python, VB, C, C++">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="../images/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/style.css">
    <title>Get-C | Arrays and Pointers</title>
</head>
<body>
    <div class="wrapper">
        <div class="container-fluid bg-light p-0">
            <div  id="myHeader">
                <nav class="navbar navbar-expand-md navbar-dark py-0 font-weight-bold">
                    <a href="../index.html" class="navbar-brand py-3 link-effect ">GET-C</a>
                    <button class="navbar-toggler py3" data-toggle="collapse" data-target="#navbarMenu" aria-expanded="false" aria-controls="navbarMenu">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarMenu">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item mx-3 link-effect">
                                <a href="../index.html" class="nav-link">Introduction</a>
                            </li>
                            <li class="nav-item mx-3 link-effect">
                                <a href="career.html" class="nav-link">Careers</a>
                            </li>
                            <li class="nav-item mx-3 link-effect">
                                <a href="about.html" class="nav-link">About</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xl-2 col-lg-3 sidebar pl-0 py-lg-5">
                        <nav class="navbar navbar-expand-lg navbar-dark py-0 font-weight-bold pl-0">
                            <div class="collapse navbar-collapse" id="navbarMenu">
                                <ul class="navbar-nav flex-column w-100 panel-group py-3"  id="accordion">
                                    <li class="nav-item mx-3 my-2">
                                        <a href="getting-started.html" class="link-effect text-light">Getting Started</a>
                                    </li>
                                    <li class="nav-item mx-3 my-2">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <div class="panel-title">
                                                    <a class="text-light panel-title link-effect" data-toggle="collapse" href="#basics"> <span>Basics</span>
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                                        </svg>
                                                    </a>
                                                </div>
                                            </div>
                                            <ul id="basics" class="list-group panel-collapse collapse in" data-parent="#accordion" >
                                                <div class="panel-body">
                                                    <li class="list-group-item link-effect"> <a href="hello-world.html"> <span>Hello, World</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="variable.html"> <span>Variables</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="array.html"> <span>Arrays</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="condition.html"> <span>Conditions</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="string.html"> <span>Strings</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="for-loop.html"> <span>For loops</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="while-loop.html"> <span>While Loop</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="function.html"> <span>Functions</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="static.html"> <span>Statics</span> </a> </li>
                                                </div>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="nav-item mx-3 my-2">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <div class="panel-title">
                                                    <a class="text-light panel-title link-effect" data-toggle="collapse" href="#advanced"> <span class="active">Advanced</span>
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                                        </svg>
                                                    </a>
                                                </div>
                                            </div>
                                            <ul id="advanced" class="list-group panel-collapse collapse in" data-parent="#accordion" >
                                                <div class="panel-body">
                                                    <li class="list-group-item link-effect"> <a href="multi-array.html"> <span>Multidimentional Array</span> </a></li>
                                                    <li class="list-group-item link-effect"> <a href="pointer.html"> <span>Pointers</span> </a></li>
                                                    <li class="list-group-item link-effect"> <a href="structure.html"> <span>Structures</span> </a></li>
                                                    <li class="list-group-item link-effect"> <a href="argument.html"> <span>Function Argument</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="dynamic.html"> <span>Dynamic Allocation</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="anp.html"> <span class="active2">Arrays and Pointers</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="recursion.html"> <span>Recursion</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="linked.html"> <span>Linked Lists</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="binary.html"> <span>Binary Trees</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="union.html"> <span>Unions</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="p-arithmetic.html"> <span>Pointer Arithmetics</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="func-pointer.html"> <span>Function Pointers</span> </a> </li>
                                                </div>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="nav-item mx-3 my-2">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <div class="panel-title">
                                                    <a class="text-light panel-title link-effect" data-toggle="collapse" href="#examples"> <span>Examples</span>
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                                        </svg>
                                                    </a>
                                                </div>
                                            </div>
                                            <ul id="examples" class="list-group panel-collapse collapse in" data-parent="#accordion" >
                                                <div class="panel-body">
                                                    <li class="list-group-item link-effect"> <a href="examples/hello.html"> <span>Hello, World!</span> </a></li>
                                                    <li class="list-group-item link-effect"> <a href="examples/print-int.html"> <span>Print Inputted Integer</span> </a></li>
                                                    <li class="list-group-item link-effect"> <a href="examples/add-int.html"> <span>Add Two Integers</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="examples/mult-float.html"> <span>Multiply Floats</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="examples/ascii.html"> <span>Print ASCII</span> </a> </li>
                                                    <li class="list-group-item link-effect"> <a href="examples/swap.html"> <span>Swap Numbers</span> </a> </li>
                                                </div>
                                            </ul>
                                        </div>
                                    </li>
                                    
                                </ul>
                            </div>
                        </nav>
                    </div>

                    <div class="col-xl-10 col-lg-9 p-5"  id="contents">
                        <h1><b>Arrays and Pointers</b></h1>
                        <hr>
                        <p class="pt-5">In a previous tutorial on <a href="pointer" class="a2">Pointers</a>, you learned that a pointer to a given data type can store the address of any variable of that particular data type. For example, in the following code, the pointer variable <code>pc</code> stores the address of the character variable <code>c</code>.</p>
                        
                        <div class="codeblock">
<code>
    char c = 'A';
    char *pc = &amp;c;

</code>
                        </div>
                        <br>
                        <p>Here, <code>c</code> is a scalar variable that can store only a single value. However, you are already familiar with arrays that can hold multiple values of the same data type in a contiguously allocated memory block. So, you might wonder, can we have pointers to arrays too? Indeed, we can.</p>
                        <p>Let us start with an example code and look at its output. We will discuss its behavior subsequently.</p>

                        <div class="codeblock">
<code>
    char vowels[] = {'A', 'E', 'I', 'O', 'U'};
    char *pvowels = &amp;vowels;
    int i;

    <span class="text-muted">// Print the addresses</span>
    for (i = 0; i &lt; 5; i++) {
        printf("&vowels[%d]: %u, pvowels + %d: %u, vowels + %d: %u\n", i, &vowels[i], i, pvowels + i, i, vowels + i);
    }

    <span class="text-muted">// Print the values</span>
    for (i = 0; i &lt; 5; i++) {
        printf("vowels[%d]: %c, *(pvowels + %d): %c, *(vowels + %d): %c\n", i, vowels[i], i, *(pvowels + i), i, *(vowels + i));
    }

</code>
                        </div>
                        <br>
                        <p>A typical output of the above code is shown below.</p>
                        <p>&vowels[0]: 4287605531, pvowels + 0: 4287605531, vowels + 0: 4287605531</p>
                        <p>&vowels[1]: 4287605532, pvowels + 1: 4287605532, vowels + 1: 4287605532</p>
                        <p>&vowels[2]: 4287605533, pvowels + 2: 4287605533, vowels + 2: 4287605533</p>
                        <p>&vowels[3]: 4287605534, pvowels + 3: 4287605534, vowels + 3: 4287605534</p>
                        <p>&vowels[4]: 4287605535, pvowels + 4: 4287605535, vowels + 4: 4287605535</p>
                        <p>vowels[0]: A, *(pvowels + 0): A, *(vowels + 0): A</p>
                        <p>vowels[1]: E, *(pvowels + 1): E, *(vowels + 1): E</p>
                        <p>vowels[2]: I, *(pvowels + 2): I, *(vowels + 2): I</p>
                        <p>vowels[3]: O, *(pvowels + 3): O, *(vowels + 3): O</p>
                        <p>vowels[4]: U, *(pvowels + 4): U, *(vowels + 4): U</p>

                        <p>As you rightly guessed, <code>&vowels[i]</code> gives the memory location of the ith element of the array <code>vowels</code>. Moreover, since this is a character array, each element occupies one byte so that the consecutive memory addresses are separated by a single byte. We also created a pointer, <code>pvowels</code>, and assigned the address of the array <code>vowels</code> to it. <code>pvowels + i</code> is a valid operation; although in general, this may not always be meaningful (explored further in Pointer Arithmetics ). In particular, the output shown above indicates that <code>&vowels[i]</code> and <code>pvowels + i</code> are equivalent. Feel free to alter the data types of the array and pointer variables to test this out.</p>

                        <p>If you look carefully at the previous code, you will notice that we also used another apparently surprising notation: <code>vowels + i</code>. Moreover, <code>pvowels + i</code> and <code>vowels + i</code> returns the same thing — address of the ith element of the array <code>vowels</code>. On the other hand, <code>*(pvowels + i)</code> and <code>*(vowels + i)</code> both return the ith element of the array <code>vowels</code>. Why is that so?</p>

                        <p>This is because the name of an array itself is a (constant) pointer to the first element of the array. In other words, the notations <code>vowels</code>, <code>&vowels[0]</code>, and <code>vowels + 0</code> all point to the same location.</p>

                        <h3 class="pt-5"><b>Dynamic Memory Allocation for Arrays</b></h3>

                        <p>By now we know that we can traverse an array using pointers. Moreover, we also know that we can dynamically allocate (contiguous) memory using blocks pointers. These two aspects can be combined to dynamically allocate memory for an array. This is illustrated in the following code.</p>

                        <div class="codeblock">
<code>
    <span class="text-muted">// Allocate memory to store five characters</span>
    int n = 5;
    char *pvowels = (char *) malloc(n * sizeof(char));
    int i;
    
    pvowels[0] = 'A';
    pvowels[1] = 'E';
    *(pvowels + 2) = 'I';
    pvowels[3] = 'O';
    *(pvowels + 4) = 'U';
    
    for (i = 0; i &lt; n; i++) {
        printf("%c ", pvowels[i]);
    }
    
    printf("\n");
    
    free(pvowels);

</code>
                        </div>
                        <br>
                        <p>In the above code, we allocated five contiguous bytes of memory to store five characters. Subsequently, we used array notations to traverse the blocks of memory as if <code>pvowels</code> is an array. However, remember that <code>pvowels</code> actually is a pointer. Pointers and arrays, in general, are not the same thing.</p>

                        <p>So when is this useful? Remember that while declaring an array, the number of elements that it would contain must be known beforehand. Therefore, in some scenarios it might happen that the space allocated for an array is either too less than the desired space or too much more. However, by using dynamic memory allocation, one can allocate just as much memory as required by a program. Moreover, unused memory can be freed as soon as it is no longer required by invoking the <code>free()</code> function. On the down side, with dynamic memory allocation, one must responsibly call <code>free()</code> wherever relevant. Otherwise, memory leaks would occur.</p>

                        <p>We conclude this tutorial by looking at dynamic memory allocation for a two-dimensional array. This can be generalized to n-dimensions in a similar way. Unlike one-dimensional arrays, where we used a pointer, in this case we require a pointer to a pointer, as shown below.</p>

                        <div class="codeblock">
<code>
    int nrows = 2;
    int ncols = 5;
    int i, j;
    
    <span class="text-muted">// Allocate memory for nrows pointers</span>
    char **pvowels = (char **) malloc(nrows * sizeof(char *));
    
    // For each row, allocate memory for ncols elements
    pvowels[0] = (char *) malloc(ncols * sizeof(char));
    pvowels[1] = (char *) malloc(ncols * sizeof(char));
    
    pvowels[0][0] = 'A';
    pvowels[0][1] = 'E';
    pvowels[0][2] = 'I';
    pvowels[0][3] = 'O';
    pvowels[0][4] = 'U';
    
    pvowels[1][0] = 'a';
    pvowels[1][1] = 'e';
    pvowels[1][2] = 'i';
    pvowels[1][3] = 'o';
    pvowels[1][4] = 'u';
    
    for (i = 0; i &lt; nrows; i++) {
        for(j = 0; j &lt; ncols; j++) {
            printf("%c ", pvowels[i][j]);
        }
    
        printf("\n");
    }
    
    <span class="text-muted">// Free individual rows</span>
    free(pvowels[0]);
    free(pvowels[1]);
    
    <span class="text-muted">// Free the top-level pointer</span>
    free(pvowels);

</code>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid text-center text-light p-3 footer mt-5">
            <div class="text-light">
                <a href="#myHeader" class="text-light text-monospace text-decoration-none">Go back to top</a>
            </div>
            <img src="../images/logo2.png" alt="logo" height="50px">
        </div>
    </div>
   

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>